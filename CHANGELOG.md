# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)
and this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).

## Unreleased

### Changed

- `cogment init` now supports the simplified event data structure in actor and environment event loops.
- `cogment init` now uses `cogment.Endpoint` and `cogment.ServedEndpoint` instead of raw TCP ports.
- `cogment init` now supports the new controller API.
- Upgrade the version of cogment-orchestrator to `v1.0.0-alpha6`
- Upgrade the version of cogment-py-sdk to `v1.0.0-alpha9`

### Fixed

- The default `cogment run start` properly attach to the actors and environment services.
- The default `cogment run build` properly build all the services.

## v1.0.0-alpha9 - 2021-03-01

## v1.0.0-alpha8 - 2021-02-25

## v1.0.0-alpha7 - 2021-02-24

## v1.0.0-alpha6 - 2021-02-23

### Changed

- Update to use github.com as import target

## v1.0.0-alpha5 - 2021-02-22

### Features

#### implement web-client

This implements both the creation and generation of a web-client through
`cogment init` and `cogment generate`, respectively.

**Changes**:

- Refactor code to use template helpers for transforming `cogment.yaml`
  `import.protos[]` into language specific import strings.

**Breaking Changes**

- A node.js distribution is now required to be available on `$PATH` for
  certain features. These are disabled by default and must be enabled by
  stdin or flags.
- `cogment generate` now accepts `--python-out` instead of
  `--python_out`. `--python-out` can be repeated multiple times to
  target multiple output directories, eg: `cogment generate --python-out environment --python-out client --python-out actor`.
- `cogment generate` now templates `CogSettings.ts`, then uses the
  typescript compiler to generate `CogSettings.js`, `CogSettings.d.ts`,
  `CogSettings.d.ts.map`.
- `cogment init` now asks if a web-client should be generated.
- `cogment generate` now accepts the `--js-out` flag, which enables
  generation of protobuf definitions and `CogSettings.ts` from a
  `cogment.yaml`
- `cogment generate` now accepts a `--typescript` flag that depends on
  the `--js-out` flag, will enable typing definition generation for
  user protobufs. This can be repeated multiple times to
  target multiple output directories, just like python-out
- `cogment init` templates uses dependencies between services
  (`depends_on` clause) for bringing up the stack vs. having service
  names repeated in `cogment run` commands. `docker-compose up web-client` will bring up the entire stack, `docker-compose up dashboard` will bring up all the necessary containers.

## v1.0.0-alpha4 - 2021-02-19

## v1.0.0-alpha3 - 2021-02-19

### Changed

- `cogment init` now generates actor & environment implementations handling all the possible events.
- Initialize Metrics and Dashboard when `cogment init` is run

## v1.0.0-alpha2 - 2021-01-28

### Changed

- `cogment run` now runs the command in the `cogment.yaml` directory.
- The `cogment init` prompt integrate the concept of actor implementation and make it optional to create an actor in the client.
- Upgrade the version of cogment-orchestrator to `v1.0.0-alpha3`
- Upgrade the version of cogment-py-sdk to `v1.0.0-alpha5`

### Fixed

- `cogment init` now generates a working project structure and implementation for actor, client and environment services.
- Build and publish a `latest` tag for `cogment/cli` on dockerhub at <https://hub.docker.com/r/cogment/cli>.
- `cogment init` on project whose name contains a `-` now generates valid `.proto` files.

## v1.0.0-alpha1 - 2020-12-07

- Initial alpha release, expect some breaking changes.

### Known issues

- Files generated by `cogment init` are not up-to-date.
