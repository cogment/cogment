import:
  proto:
    - data.proto

commands:
  generate: >
    cogment generate --python_dir=./environment &&
    cogment generate --python_dir=./smart &&
    cogment generate --python_dir=./dumb &&
    cogment generate --python_dir=./client
  build: docker-compose build
  # Start and stop services
  start: docker-compose up orchestrator env smart dumb
  stop: docker-compose stop orchestrator env smart dumb
  client: docker-compose run --rm client

environment:
  config_type: testit.EnvConfig

trial:
  config_type: testit.TrialConfig

# Static configuration
actor_classes:
  - id: master
    action:
      space: testit.MasterAction
    observation:
      space: testit.Observation
  - id: smart
    action:
      space: testit.SmartAction
    observation:
      space: testit.Observation
  - id: dumb
    action:
      space: testit.DumbAction
    observation:
      space: testit.Observation

# Dynamic configuration (could be changed by a pre-hook)
trial_params:
  environment:
    endpoint: grpc://environment:9000
    #config: {}
  actors:
    - actor_class: master
      endpoint: human
    - actor_class: smart
      endpoint: grpc://smart:9000
    - actor_class: dumb
      endpoint: grpc://dumb:9000

